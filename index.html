<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KSNU AI Major Grammar</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- 공통 스타일 --- */
        :root {
            --primary: #002c5f; /* KSNU 국립군산대 느낌의 네이비 */
            --accent: #2c82c9;  /* 밝은 블루 */
            --bg: #f5f7fa;
            --text: #333;
        }

        * { box-sizing: border-box; }
        body { margin: 0; font-family: 'Pretendard', sans-serif; background: var(--bg); color: var(--text); }

        /* --- 화면 전환 로직 --- */
        .page-section { display: none; height: 100vh; overflow-y: auto; }
        .page-section.active { display: block; }

        /* --- 1. 메인 홈 화면 (랜딩 페이지) --- */
        .hero-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, var(--primary) 0%, #004e92 100%);
            color: white;
            min-height: 100vh;
        }

        .project-badge {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: 20px;
            letter-spacing: 1px;
        }

        .hero-title { font-size: 2.5rem; font-weight: 700; margin: 0 0 15px 0; line-height: 1.2; }
        .hero-subtitle { font-size: 1.1rem; opacity: 0.9; margin-bottom: 40px; max-width: 600px; }

        .info-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 900px;
            margin-bottom: 40px;
        }

        .card {
            background: white;
            color: var(--text);
            padding: 25px;
            border-radius: 15px;
            text-align: left;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .card h3 { color: var(--primary); margin-top: 0; display: flex; align-items: center; gap: 10px; }
        
        .start-btn {
            background: white;
            color: var(--primary);
            font-size: 1.3rem;
            font-weight: bold;
            padding: 15px 50px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0,0,0,0.3); }

        /* --- 2. 앱 화면 (기존 기능) --- */
        .app-header {
            background: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #ddd;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .home-btn { border: none; background: none; font-size: 1.2rem; cursor: pointer; color: var(--primary); }
        .nav-tabs { display: flex; gap: 5px; }
        .nav-tab {
            padding: 8px 12px;
            border: none;
            background: #eee;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            color: #777;
        }
        .nav-tab.active { background: var(--primary); color: white; }

        .app-content { max-width: 800px; margin: 0 auto; padding: 20px; }
        
        .tool-screen { display: none; }
        .tool-screen.active { display: block; }

        /* 컨트롤 패널 스타일 */
        .panel { background: white; padding: 20px; border-radius: 12px; border: 1px solid #eee; margin-bottom: 20px; }
        select, input { width: 100%; padding: 10px; margin: 5px 0 15px 0; border: 1px solid #ddd; border-radius: 6px; }
        .prompt-box { background: #222; color: #eee; padding: 15px; border-radius: 8px; font-family: monospace; white-space: pre-wrap; font-size: 0.9rem; }
        .copy-btn { width: 100%; padding: 12px; background: var(--accent); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        
        /* 모바일 네비게이션 */
        .bottom-nav {
            display: none;
            position: fixed; bottom: 0; width: 100%; background: white; border-top: 1px solid #ddd;
            justify-content: space-around; padding: 10px 0;
        }
        .b-item { border: none; background: none; display: flex; flex-direction: column; align-items: center; font-size: 0.8rem; color: #888; }
        .b-item.active { color: var(--primary); }

        @media (max-width: 600px) {
            .bottom-nav { display: flex; }
            .nav-tabs { display: none; }
            .app-content { padding-bottom: 80px; }
        }

        /* 복습 카드 */
        .flashcard { background: white; padding: 20px; border-radius: 10px; border-left: 5px solid var(--accent); margin-bottom: 10px; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .answer { display: none; margin-top: 10px; padding-top: 10px; border-top: 1px dashed #ddd; color: var(--accent); }
        .flashcard.flipped .answer { display: block; }
    </style>
</head>
<body>

    <section id="section-home" class="page-section active">
        <div class="hero-container">
            <div class="project-badge">2025 KSNU AIX-Boost Program</div>
            <h1 class="hero-title">전공 연계 AI<br>문법 학습 시스템</h1>
            <p class="hero-subtitle">
                생성형 AI를 활용하여 전공 맥락 속에서 영문법을 학습하고,<br>
                나만의 교재를 만드는 자기주도 학습 플랫폼
            </p>

            <div class="info-cards">
                <div class="card">
                    <h3><i class="fa-solid fa-graduation-cap"></i> 교육과정 개선</h3>
                    <p>기존의 주입식 문법 교육에서 벗어나, 학습자가 직접 AI 도구를 활용해 전공 지식과 영어를 동시에 습득하는 융합형 커리큘럼입니다.</p>
                </div>
                <div class="card">
                    <h3><i class="fa-solid fa-robot"></i> AI 실전 문제해결</h3>
                    <p>건축, 간호, 컴공 등 내 전공 원서에 나오는 표현을 바탕으로 예문을 생성하고, 데이터를 축적하여 맞춤형 학습을 지원합니다.</p>
                </div>
            </div>

            <button class="start-btn" onclick="enterApp()">프로젝트 시작하기 <i class="fa-solid fa-arrow-right"></i></button>
        </div>
    </section>

    <section id="section-app" class="page-section">
        <div class="app-header">
            <button class="home-btn" onclick="goHome()"><i class="fa-solid fa-house"></i></button>
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="switchTool('generator')">생성기</button>
                <button class="nav-tab" onclick="switchTool('submission')">과제제출</button>
                <button class="nav-tab" onclick="switchTool('review')">복습앱</button>
            </div>
            <div style="width: 24px;"></div> </div>

        <div class="app-content">
            <div id="tool-generator" class="tool-screen active">
                <div class="panel">
                    <h3><i class="fa-solid fa-sliders"></i> 학습 조건 설정</h3>
                    <label>전공 분야</label>
                    <select id="majorSelect" onchange="generatePrompt()">
                        <option value="architect">건축공학 (Architecture)</option>
                        <option value="nursing">간호학 (Nursing)</option>
                        <option value="cs">컴퓨터공학 (Computer Sci)</option>
                        <option value="biz">경영학 (Business)</option>
                    </select>
                    
                    <label>문법 주제</label>
                    <select id="grammarSelect" onchange="generatePrompt()">
                        <option value="passive">수동태 (Passive Voice)</option>
                        <option value="relative">관계대명사 (Relative Clauses)</option>
                        <option value="to_inf">To 부정사 (To-Infinitive)</option>
                    </select>

                    <label>전공 키워드 (옵션)</label>
                    <input type="text" id="keyword" placeholder="예: structure, patient, data..." oninput="generatePrompt()">
                </div>

                <div class="panel" style="background: #2c3e50; color: white;">
                    <h3><i class="fa-solid fa-terminal"></i> AI 프롬프트</h3>
                    <div id="promptDisplay" class="prompt-box"></div>
                    <button class="copy-btn" onclick="copyPrompt()">복사해서 AI에게 질문하기</button>
                </div>
            </div>

            <div id="tool-submission" class="tool-screen">
                <div class="panel">
                    <h3><i class="fa-solid fa-file-arrow-up"></i> 과제 제출 및 피드백</h3>
                    <p style="font-size:0.9rem; color:#666;">
                        AI가 생성한 예문과 본인의 작문을 아래 댓글로 제출하세요.<br>
                        교수자 및 동료 학습자의 피드백이 누적됩니다.
                    </p>
                    <div class="giscus"></div>
                </div>
            </div>

            <div id="tool-review" class="tool-screen">
                <h3><i class="fa-solid fa-layer-group"></i> 오늘의 전공 단어장</h3>
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <strong>[건축] The structure is supported by...</strong>
                    <div class="answer">정답: 수동태 (The structure receives the action)</div>
                </div>
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <strong>[간호] Patients showing symptoms...</strong>
                    <div class="answer">정답: 현재분사 (Active meaning)</div>
                </div>
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <strong>[컴공] The algorithm used to sort...</strong>
                    <div class="answer">정답: 과거분사 (Passive meaning)</div>
                </div>
            </div>
        </div>

        <nav class="bottom-nav">
            <button class="b-item active" onclick="switchTool('generator')" id="m-gen"><i class="fa-solid fa-wand-magic-sparkles"></i> 생성</button>
            <button class="b-item" onclick="switchTool('submission')" id="m-sub"><i class="fa-solid fa-file-pen"></i> 제출</button>
            <button class="b-item" onclick="switchTool('review')" id="m-rev"><i class="fa-solid fa-repeat"></i> 복습</button>
        </nav>
    </section>

    <script>
        // 1. 화면 전환 (메인 <-> 앱)
        function enterApp() {
            document.getElementById('section-home').classList.remove('active');
            document.getElementById('section-app').classList.add('active');
        }
        function goHome() {
            document.getElementById('section-app').classList.remove('active');
            document.getElementById('section-home').classList.add('active');
        }

        // 2. 도구 탭 전환 (생성기/제출/복습)
        function switchTool(toolId) {
            // PC/모바일 탭 스타일 초기화
            document.querySelectorAll('.nav-tab').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.b-item').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tool-screen').forEach(el => el.classList.remove('active'));

            // 선택된 탭 활성화
            document.getElementById('tool-' + toolId).classList.add('active');
            
            // 버튼 활성화 (인덱스 매핑 대신 단순화)
            if(toolId === 'generator') { 
                document.querySelectorAll('.nav-tab')[0].classList.add('active');
                document.getElementById('m-gen').classList.add('active');
            }
            if(toolId === 'submission') {
                document.querySelectorAll('.nav-tab')[1].classList.add('active');
                document.getElementById('m-sub').classList.add('active');
            }
            if(toolId === 'review') {
                document.querySelectorAll('.nav-tab')[2].classList.add('active');
                document.getElementById('m-rev').classList.add('active');
            }
        }

        // 3. 프롬프트 생성 로직
        function generatePrompt() {
            const major = document.getElementById('majorSelect').value;
            const grammar = document.getElementById('grammarSelect').value;
            const keyword = document.getElementById('keyword').value || '(Topic Keyword)';
            
            const txt = `Act as a professor in ${major}.
Create 3 sentences using "${grammar}" related to "${keyword}".
Also, provide a fill-in-the-blank quiz for each sentence.`;
            
            document.getElementById('promptDisplay').innerText = txt;
        }

        function copyPrompt() {
            const text = document.getElementById('promptDisplay').innerText;
            navigator.clipboard.writeText(text).then(() => alert('복사되었습니다! AI에게 붙여넣으세요.'));
        }

        // ★★★ 4. Giscus 설정 (오류 수정 핵심) ★★★
        // 아래 data-repo, data-repo-id, data-category-id를 본인 것으로 꼭 바꿔주세요!
        (function() {
            const script = document.createElement('script');
            script.src = "https://giscus.app/client.js";
            
            // ▼▼▼ 여기를 수정해야 오류가 사라집니다 ▼▼▼
            script.setAttribute("data-repo", "rlaclajrdj25/rlaclajrdj25.github.io"); // 선생님 저장소 주소
            script.setAttribute("data-repo-id", "R_kgDOL..."); // 1단계에서 받은 ID값 붙여넣기
            script.setAttribute("data-category", "General");
            script.setAttribute("data-category-id", "DIC_kwDOL..."); // 1단계에서 받은 Category ID값 붙여넣기
            // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
            
            script.setAttribute("data-mapping", "pathname");
            script.setAttribute("data-strict", "0");
            script.setAttribute("data-reactions-enabled", "1");
            script.setAttribute("data-emit-metadata", "0");
            script.setAttribute("data-input-position", "bottom");
            script.setAttribute("data-theme", "light");
            script.setAttribute("data-lang", "ko");
            script.crossOrigin = "anonymous";
            script.async = true;
            
            document.querySelector('.giscus').appendChild(script);
        })();

        // 초기 실행
        generatePrompt();
    </script>
</body>
</html>
