<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KSNU AI Major Grammar</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- 공통 스타일 --- */
        :root {
            --primary: #002c5f; /* KSNU 네이비 */
            --accent: #2c82c9;  /* 포인트 블루 */
            --bg: #f5f7fa;
            --text: #333;
        }

        * { box-sizing: border-box; }
        body { margin: 0; font-family: 'Pretendard', sans-serif; background: var(--bg); color: var(--text); }

        /* --- 화면 전환 --- */
        .page-section { display: none; height: 100vh; overflow-y: auto; }
        .page-section.active { display: block; }

        /* --- 1. 메인 홈 화면 --- */
        .hero-container {
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; padding: 40px 20px;
            background: linear-gradient(135deg, var(--primary) 0%, #004e92 100%);
            color: white; min-height: 100vh;
        }

        .project-badge {
            background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px;
            font-size: 0.9rem; margin-bottom: 20px; letter-spacing: 1px;
        }

        .hero-title { font-size: 2.5rem; font-weight: 700; margin: 0 0 15px 0; line-height: 1.2; }
        .hero-subtitle { font-size: 1.1rem; opacity: 0.9; margin-bottom: 40px; max-width: 600px; }

        .info-cards {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px; width: 100%; max-width: 900px; margin-bottom: 40px;
        }

        .card {
            background: white; color: var(--text); padding: 25px; border-radius: 15px;
            text-align: left; box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .card h3 { color: var(--primary); margin-top: 0; display: flex; align-items: center; gap: 10px; }
        
        .start-btn {
            background: white; color: var(--primary); font-size: 1.3rem; font-weight: bold;
            padding: 15px 50px; border: none; border-radius: 50px; cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0,0,0,0.3); }

        /* --- 2. 앱 화면 --- */
        .app-header {
            background: white; padding: 15px 20px; display: flex; justify-content: space-between;
            align-items: center; border-bottom: 1px solid #ddd; position: sticky; top: 0; z-index: 100;
        }
        
        .home-btn { border: none; background: none; font-size: 1.2rem; cursor: pointer; color: var(--primary); }
        .nav-tabs { display: flex; gap: 5px; }
        .nav-tab {
            padding: 8px 12px; border: none; background: #eee; border-radius: 8px;
            cursor: pointer; font-weight: 600; color: #777;
        }
        .nav-tab.active { background: var(--primary); color: white; }

        .app-content { max-width: 800px; margin: 0 auto; padding: 20px; }
        .tool-screen { display: none; }
        .tool-screen.active { display: block; }

        /* 패널 스타일 */
        .panel { background: white; padding: 20px; border-radius: 12px; border: 1px solid #eee; margin-bottom: 20px; }
        select, input { width: 100%; padding: 12px; margin: 5px 0 15px 0; border: 1px solid #ddd; border-radius: 6px; font-size: 1rem; }
        .prompt-box { background: #222; color: #eee; padding: 15px; border-radius: 8px; font-family: monospace; white-space: pre-wrap; font-size: 0.9rem; line-height: 1.5; }
        .copy-btn { width: 100%; padding: 12px; background: var(--accent); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        
        /* 모바일 하단 네비게이션 */
        .bottom-nav {
            display: none; position: fixed; bottom: 0; width: 100%; background: white; border-top: 1px solid #ddd;
            justify-content: space-around; padding: 10px 0;
        }
        .b-item { border: none; background: none; display: flex; flex-direction: column; align-items: center; font-size: 0.8rem; color: #888; }
        .b-item.active { color: var(--primary); }

        @media (max-width: 600px) {
            .bottom-nav { display: flex; }
            .nav-tabs { display: none; }
            .app-content { padding-bottom: 80px; }
        }

        /* 복습 카드 */
        .flashcard { background: white; padding: 20px; border-radius: 10px; border-left: 5px solid var(--accent); margin-bottom: 10px; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .answer { display: none; margin-top: 10px; padding-top: 10px; border-top: 1px dashed #ddd; color: var(--accent); }
        .flashcard.flipped .answer { display: block; }
    </style>
</head>
<body>

    <section id="section-home" class="page-section active">
        <div class="hero-container">
            <div class="project-badge">2025 KSNU AIX-Boost Program</div>
            <h1 class="hero-title">전공 연계 AI<br>문법 학습 시스템</h1>
            <p class="hero-subtitle">
                생성형 AI를 활용하여 전공 맥락 속에서 영문법을 학습하고,<br>
                나만의 교재를 만드는 자기주도 학습 플랫폼
            </p>
            <div class="info-cards">
                <div class="card">
                    <h3><i class="fa-solid fa-graduation-cap"></i> 교육과정 개선</h3>
                    <p>학습자가 직접 AI 도구를 활용해 전공 지식과 영어를 동시에 습득하는 융합형 커리큘럼입니다.</p>
                </div>
                <div class="card">
                    <h3><i class="fa-solid fa-robot"></i> AI 실전 문제해결</h3>
                    <p>내 전공 원서에 나오는 표현을 바탕으로 예문을 생성하고, 데이터를 축적하여 맞춤형 학습을 지원합니다.</p>
                </div>
            </div>
            <button class="start-btn" onclick="enterApp()">프로젝트 시작하기 <i class="fa-solid fa-arrow-right"></i></button>
        </div>
    </section>

    <section id="section-app" class="page-section">
        <div class="app-header">
            <button class="home-btn" onclick="goHome()"><i class="fa-solid fa-house"></i></button>
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="switchTool('generator')">생성기</button>
                <button class="nav-tab" onclick="switchTool('submission')">과제제출</button>
                <button class="nav-tab" onclick="switchTool('review')">복습앱</button>
            </div>
            <div style="width: 24px;"></div>
        </div>

        <div class="app-content">
            <div id="tool-generator" class="tool-screen active">
                <div class="panel">
                    <h3><i class="fa-solid fa-sliders"></i> 학습 조건 설정</h3>
                    
                    <label>단과대학 (College)</label>
                    <select id="collegeSelect" onchange="updateMajors()">
                        <option value="">단과대학을 선택하세요</option>
                    </select>

                    <label>학과 (Major)</label>
                    <select id="majorSelect" onchange="generatePrompt()">
                        <option value="">학과를 선택하세요</option>
                    </select>
                    
                    <label>문법 주제 (Grammar)</label>
                    <select id="grammarSelect" onchange="generatePrompt()">
                        <option value="Passive Voice (수동태)">수동태 (Passive Voice)</option>
                        <option value="Relative Clauses (관계대명사)">관계대명사 (Relative Clauses)</option>
                        <option value="To-Infinitive (To 부정사)">To 부정사 (To-Infinitive)</option>
                        <option value="Participle (분사구문)">분사구문 (Participle)</option>
                        <option value="Conjunctions (접속사)">접속사 (Conjunctions)</option>
                    </select>

                    <label>전공 키워드 (옵션)</label>
                    <input type="text" id="keyword" placeholder="예: 데이터, 세포, 법률, 구조..." oninput="generatePrompt()">
                </div>

                <div class="panel" style="background: #2c3e50; color: white;">
                    <h3><i class="fa-solid fa-terminal"></i> AI 프롬프트</h3>
                    <div id="promptDisplay" class="prompt-box"></div>
                    <button class="copy-btn" onclick="copyPrompt()">복사해서 AI에게 질문하기</button>
                </div>
            </div>

            <div id="tool-submission" class="tool-screen">
                <div class="panel">
                    <h3><i class="fa-solid fa-file-arrow-up"></i> 과제 제출 및 피드백</h3>
                    <p style="font-size:0.9rem; color:#666;">
                        AI가 생성한 예문과 본인의 작문을 아래 댓글로 제출하세요.<br>
                        교수자 및 동료 학습자의 피드백이 누적됩니다.
                    </p>
                    <div class="giscus"></div>
                </div>
            </div>

            <div id="tool-review" class="tool-screen">
                <h3><i class="fa-solid fa-layer-group"></i> 오늘의 전공 단어장</h3>
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <strong>[컴퓨터] The data is processed by...</strong>
                    <div class="answer">정답: 수동태 (Data receives the action)</div>
                </div>
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <strong>[해양] Species living in the ocean...</strong>
                    <div class="answer">정답: 현재분사 (Active meaning)</div>
                </div>
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <strong>[경영] The strategy used to increase...</strong>
                    <div class="answer">정답: 과거분사 (Passive meaning)</div>
                </div>
            </div>
        </div>

        <nav class="bottom-nav">
            <button class="b-item active" onclick="switchTool('generator')" id="m-gen"><i class="fa-solid fa-wand-magic-sparkles"></i> 생성</button>
            <button class="b-item" onclick="switchTool('submission')" id="m-sub"><i class="fa-solid fa-file-pen"></i> 제출</button>
            <button class="b-item" onclick="switchTool('review')" id="m-rev"><i class="fa-solid fa-repeat"></i> 복습</button>
        </nav>
    </section>

    <script>
        // --- 1. 데이터: 단과대학 및 학과 목록 ---
        // 요청하신 모든 대학 및 학과 정보를 담았습니다.
        const collegeData = {
            "컴퓨터소프트웨어특성화대학": ["컴퓨터정보공학과", "인공지능융합학과", "임베디드소프트웨어학과", "소프트웨어학과", "IT융합통신공학과"],
            "해양·바이오특성화대학": ["생명과학과", "해양수산공공인재학과", "해양생명과학과", "해양생물자원학과", "수산생명의학과", "식품영양학과", "기관공학과", "식품생명공학과"],
            "경영특성화대학": ["경영학부", "국제물류학과", "무역학과", "회계학부", "금융부동산경제학과", "벤처창업학과"],
            "자율전공대학": ["자율전공학부", "미술학과", "음악과", "조선공학과", "글로벌융합학부"],
            "융합과학공학대학": ["전자공학과", "전기공학과", "신소재공학과", "화학공학과", "환경공학과", "토목공학과", "해양건설공학과", "첨단과학기술학부", "수학과"],
            "인문콘텐츠융합대학": ["국어국문학과", "영어영문학과", "일어일문학과", "중어중문학과", "역사학과", "철학과"],
            "ICC 특성화 대학부": ["미디어문화학부", "아동학부", "사회복지학부", "법행정경찰학부", "간호학부", "체육학부", "산업디자인학부", "의류학부", "해양경찰학부", "기계공학부", "건축공학부", "공간디자인융합기술학부", "이차전지·에너지학부"]
        };

        // --- 2. 초기화 및 단과대학 선택 로직 ---
        window.onload = function() {
            const collegeSelect = document.getElementById('collegeSelect');
            
            // 데이터 기반으로 단과대학 옵션 생성
            for (let college in collegeData) {
                let option = document.createElement('option');
                option.value = college;
                option.innerText = college;
                collegeSelect.appendChild(option);
            }
            generatePrompt(); // 초기 프롬프트 로드
        };

        function updateMajors() {
            const collegeSelect = document.getElementById('collegeSelect');
            const majorSelect = document.getElementById('majorSelect');
            const selectedCollege = collegeSelect.value;

            // 학과 목록 초기화 (기존 목록 삭제)
            majorSelect.innerHTML = '<option value="">학과를 선택하세요</option>';

            // 선택된 단과대학이 있을 경우 해당 학과들 추가
            if (selectedCollege && collegeData[selectedCollege]) {
                const majors = collegeData[selectedCollege];
                majors.forEach(major => {
                    let option = document.createElement('option');
                    option.value = major;
                    option.innerText = major;
                    majorSelect.appendChild(option);
                });
            }
            generatePrompt();
        }

        // --- 3. 프롬프트 생성 로직 ---
        function generatePrompt() {
            const college = document.getElementById('collegeSelect').value || "University";
            const major = document.getElementById('majorSelect').value || "Major";
            const grammar = document.getElementById('grammarSelect').value;
            const keyword = document.getElementById('keyword').value || "(Topic Keyword)";
            
            // AI에게 전공 교수로 역할 부여
            const txt = `Act as a professor in ${major} (${college}).
I am a student majoring in ${major}.

Please create 3 example sentences using "${grammar}" related to the keyword "${keyword}" in the context of ${major}.

[Requirements]
1. Use professional vocabulary related to ${major}.
2. Provide a Korean translation for each sentence.
3. Explain why this grammar is used in this context.
4. Create a "Fill-in-the-blank" quiz for each sentence.`;
            
            document.getElementById('promptDisplay').innerText = txt;
        }

        function copyPrompt() {
            const text = document.getElementById('promptDisplay').innerText;
            navigator.clipboard.writeText(text).then(() => alert('복사되었습니다! AI에게 붙여넣으세요.'));
        }

        // --- 4. 화면 전환 ---
        function enterApp() {
            document.getElementById('section-home').classList.remove('active');
            document.getElementById('section-app').classList.add('active');
        }
        function goHome() {
            document.getElementById('section-app').classList.remove('active');
            document.getElementById('section-home').classList.add('active');
        }

        function switchTool(toolId) {
            document.querySelectorAll('.nav-tab').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.b-item').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tool-screen').forEach(el => el.classList.remove('active'));

            document.getElementById('tool-' + toolId).classList.add('active');
            
            if(toolId === 'generator') { 
                document.querySelectorAll('.nav-tab')[0].classList.add('active');
                document.getElementById('m-gen').classList.add('active');
            }
            if(toolId === 'submission') {
                document.querySelectorAll('.nav-tab')[1].classList.add('active');
                document.getElementById('m-sub').classList.add('active');
            }
            if(toolId === 'review') {
                document.querySelectorAll('.nav-tab')[2].classList.add('active');
                document.getElementById('m-rev').classList.add('active');
            }
        }

        // ★★★ Giscus 설정 (ID값 채워넣기 필수) ★★★
        (function() {
            const script = document.createElement('script');
            script.src = "https://giscus.app/client.js";
            
            // 선생님이 성공한 주소 그대로 유지
            script.setAttribute("data-repo", "rlaclajrdj25/rlaclajrdj25.github.io");
            
            // ▼▼▼ [중요] 아까 복사해둔 ID값 2개를 아래 점(...) 대신 붙여넣으세요 ▼▼▼
            script.setAttribute("data-repo-id", "R_kgDOL..."); 
            script.setAttribute("data-category", "General");
            script.setAttribute("data-category-id", "DIC_kwDOL..."); 
            // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
            
            script.setAttribute("data-mapping", "pathname");
            script.setAttribute("data-strict", "0");
            script.setAttribute("data-reactions-enabled", "1");
            script.setAttribute("data-emit-metadata", "0");
            script.setAttribute("data-input-position", "bottom");
            script.setAttribute("data-theme", "light");
            script.setAttribute("data-lang", "ko");
            script.crossOrigin = "anonymous";
            script.async = true;
            
            document.querySelector('.giscus').appendChild(script);
        })();
    </script>
</body>
</html>
